(this.webpackJsonpbruno=this.webpackJsonpbruno||[]).push([[0],{137:function(n,e,t){n.exports=t(295)},142:function(n,e,t){},295:function(n,e,t){"use strict";t.r(e);var a=t(38),r=t(0),o=t.n(r),i=t(129),l=t.n(i),c=(t(142),t(1)),s=t(2);function p(){var n=Object(c.a)(["\n  color: brown;\n  font-size: 12px;\n  font-weight: bold;\n  transform: rotate(12deg);\n"]);return p=function(){return n},n}function u(){var n=Object(c.a)(["\n  font-family: 'verdana';\n  font-weight: bold;\n  font-style: italic;\n  font-size: 45px;\n  position: absolute;\n  top: 20px;\n  left: 15px;\n  color: ",";\n  text-shadow: 2px 2px 0px rgba(0, 0, 0, 1);\n"]);return u=function(){return n},n}function d(){var n=Object(c.a)(["\n  height: 90px;\n  width: 50px;\n  border-radius: 50%;\n  background: white;\n  position: absolute;\n  top: 5px;\n  left: 7px;\n  transform: rotate(35deg);\n"]);return d=function(){return n},n}function f(){var n=Object(c.a)(["\n  margin: 2px;\n  display: inline-block;\n  border: 6px solid white;\n  border-radius: 5px;\n  padding: 20px 17px;\n  background: ",";\n  position: relative;\n  color: black;\n  height: 60px;\n  width: 30px;\n  user-select: none;\n  box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n  ","\n  ","\n  ","\n  ","\n"]);return f=function(){return n},n}var m=s.a.div(f(),(function(n){var e=n.isConcealed,t=n.color;return e?"black":t}),(function(n){var e=n.offsetX;return e?"left: ".concat(e,"px;"):""}),(function(n){var e=n.offsetY;return e?"top: ".concat(e,"px;"):""}),(function(n){var e=n.rotation;return e?"transform: rotate(".concat(e,"deg);"):""}),(function(n){return n.onClick?"cursor: pointer;":""})),x=s.a.div(d()),g=s.a.div(u(),(function(n){return n.cardColor})),v=s.a.div(p()),b=function(n){var e=n.color,t=n.value,a=n.isConcealed,r=n.onClick,i=n.rotation,l=n.offsetX,c=n.offsetY;return o.a.createElement(m,{color:e,isConcealed:a,onClick:r,rotation:i,offsetX:l,offsetY:c,value:t},!a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(x,null),o.a.createElement(g,{cardColor:e},t)),a&&o.a.createElement(v,null,"Bruno"))};function y(){var n=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  transform: rotateZ(0) rotateX(19deg) rotateY(0deg) translateZ(25px) translateX(-10px) translateY(0px);\n  align-items: center;\n  background: grey;\n  height: 60vh;\n  width: 400px;\n  border-radius: 3%;\n"]);return y=function(){return n},n}var h=s.a.div(y());function P(){var n=Object(c.a)(["\n  margin: -24px;\n  display: inline-block;\n  border: 6px solid white;\n  border-radius: 5px;\n  padding: 20px 17px;\n  background: black;\n  position: relative;\n  color: black;\n  height: 60px;\n  width: 30px;\n  user-select: none;\n  position: absolute;\n  bottom: 20px;\n\n  animation-duration: 0.8s;\n  animation-name: drawcard;\n  animation-fill-mode: forwards;\n\n  @keyframes drawcard {\n    from {\n      opacity: 1;\n      transform: rotateZ(0) rotateX(0) rotateY(0deg) translateZ(0px) translateX(0px) translateY(0);\n    }\n\n    to {\n      opacity: 0;\n      transform: rotateZ(-2deg) rotateX(40deg) rotateY(5deg) translateZ(0px) translateX(0px) translateY(120px);\n    }\n  }\n"]);return P=function(){return n},n}function C(){var n=Object(c.a)(["\n  color: brown;\n  font-size: 12px;\n  font-weight: bold;\n  transform: rotate(12deg);\n"]);return C=function(){return n},n}function k(){var n=Object(c.a)(["\n  margin: 2px;\n  display: inline-block;\n  border: 6px solid white;\n  border-radius: 5px;\n  padding: 20px 17px;\n  background: black;\n  position: relative;\n  color: black;\n  height: 60px;\n  width: 30px;\n  user-select: none;\n  position: relative;\n  bottom: 20px;\n  cursor: pointer;\n\n  &:after {\n    background-color: gray;\n    background-image: linear-gradient(hsla(0, 0%, 100%, 0.25), hsla(0, 0%, 0%, 0.25));\n    border-radius: 5px;\n    content: '';\n    height: 28px;\n    left: -6px;\n    position: absolute;\n    top: 68px;\n    width: 76px;\n    transform: translateZ(0px) translateY(30px);\n    z-index: -1;\n  }\n"]);return k=function(){return n},n}var O,w,j=s.a.div(k()),E=s.a.div(C()),Y=s.a.div(P()),T=function(n){var e=n.onClick,t=Object(r.useContext)(Q).state,i=Object(r.useState)(!1),l=Object(a.a)(i,2),c=l[0],s=l[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(j,{onClick:function(){console.log(t.playerTurn,t.player.position),t.playerTurn===t.player.position&&(e(),s(!0),setTimeout((function(){s(!1)}),800))}},o.a.createElement(E,null,"Bruno"),c&&o.a.createElement(Y,null)))};!function(n){n.Red="red",n.Green="green",n.Yellow="gold",n.Blue="blue"}(O||(O={})),function(n){n.Zero="0",n.One="1",n.Two="2",n.Three="3",n.Four="4",n.Five="5",n.Six="6",n.Seven="7",n.Eight="8",n.Nine="9",n.PlusTwo="\u270c\ufe0f",n.Skip="\ud83d\udeab"}(w||(w={}));var X=t(135);function Z(){var n=Object(c.a)(["\n  margin: 20px;\n  ",";\n  ","\n\n  > * {\n    margin: ",";\n\n    :hover {\n      transform: translateZ(140px) translateY(-5px) scale(1.1);\n      margin-right: 25px;\n    }\n    :last-child:hover {\n      margin-right: 0;\n    }\n\n    transition: all 0.2s ease;\n    animation-duration: 0.8s;\n    animation-name: getcard;\n    position: relative;\n  }\n\n  @keyframes getcard {\n    from {\n      bottom: 50px;\n      opacity: 0;\n    }\n\n    to {\n      bottom: 0;\n      opacity: 1;\n    }\n  }\n"]);return Z=function(){return n},n}var R=s.a.div(Z(),(function(n){return function(n,e){var t=1-.1*e;switch(n){case 0:return"\n        position: fixed;\n        bottom: 0px;\n        transform: rotateZ(0) rotateX(-22deg) rotateY(0deg) translateZ(80px) translateX(-10px) translateY(-7px);";case 1:return"\n        position: fixed;\n        left: 290px;\n        transform: rotateZ(-350deg) rotateX(-70deg) rotateY(58deg) translateZ(-140px) translateX(-180px) translateY(-110px) skew(0deg, 10deg) scale(".concat(t,")");case 2:return"\n        position: fixed;\n        left: 180px;\n        transform: rotateZ(-344deg) rotateX(-75deg) rotateY(36deg) translateZ(-51px) translateX(80px) translateY(-77px) skew(0deg,10deg) scale(".concat(t,")");case 3:return"\n        position: fixed;\n        right: 260px;\n        transform: rotateZ(-330deg) rotateX(-72deg) rotateY(33deg) translateZ(-66px) translateX(80px) translateY(-77px) skew(0deg,10deg) scale(".concat(t,")");case 4:return"\n        position: fixed;\n        right: 290px;\n        transform: rotateZ(-350deg) rotateX(-70deg) rotateY(-22deg) translateZ(-140px) translateX(238px) translateY(-90px) skew(0deg, -2deg) scale(".concat(t,")");default:return""}}(n.tablePosition,n.numberOfPlayers)}),(function(n){return function(n){return n?"\n    box-shadow: -20px 0 40px 10px rgba(255,255,255,0.7);\n  ":""}(n.isHighlighted)}),(function(n){return function(n,e){var t=e?3:8,a=e?-40:-60,r=e?-20:100,o=Math.min(Math.max(n*-t,a),r);return"0px 2px -5px ".concat(o,"px")}(n.cardsCount,0===n.tablePosition)})),S=function(n){var e=n.children,t=Object(X.a)(n,["children"]),a=Object(r.useContext)(Q).state;return o.a.createElement(R,Object.assign({numberOfPlayers:a.opponents.length+1},t),e)};function U(){var n=Object(c.a)(["\n  position: relative;\n  height: 100px;\n  width: 100px;\n  margin-left: 50px;\n\n  > * {\n    position: absolute;\n\n    animation-duration: 0.3s;\n    animation-name: laycard;\n  }\n\n  @keyframes laycard {\n    from {\n      margin-top: -100%;\n      opacity: 0;\n    }\n\n    to {\n      margin-top: 0%;\n      opacity: 1;\n    }\n  }\n"]);return U=function(){return n},n}var I,A,G=s.a.div(U()),W=function(){var n=Object(r.useContext)(Q).state;return o.a.createElement(G,null,n.cardPile.map((function(n,e){return o.a.createElement(b,{key:e,color:n.color,value:n.value,isConcealed:!1,rotation:n.rotation,offsetX:n.offsetX,offsetY:n.offsetY})})))},B=t(133),F=t.n(B);!function(n){n.NewConnection="connection",n.ConnectionClosed="disconnect"}(I||(I={})),function(n){n.InitPlayer="InitPlayer",n.PlayerPlaysCard="PlayerPlaysCard",n.PlayerPickedUpCard="PlayerPickedUpCard",n.PlayerWins="PlayerWins",n.AddOpponent="AddOpponent",n.RemoveOpponent="RemoveOpponent",n.UpdateOpponent="UpdateOpponent",n.OpponentWins="OpponentWins",n.SetPlayerTurn="SetPlayerTurn",n.AddCardToPile="AddCardToPile",n.GameRestarsInSeconds="GameRestarsInSeconds"}(A||(A={}));var z=t(39);var N,H=function(){var n=Object(r.useRef)(),e=Object(r.useContext)(Q).dispatch;return Object(r.useEffect)((function(){var t,a=new URLSearchParams(window.location.search).get("server")||"http://localhost:8080";n.current=F()(a),(t=A,Object.values(t)).forEach((function(t){var a;null===(a=n.current)||void 0===a||a.on(t,(function(n){e({name:t,value:n})}))}))}),[]),n.current};!function(n){n.PlayerAdded="PlayerAdded",n.PlayerInit="PlayerInit",n.PlayerRemoved="PlayerRemoved",n.PlaysCard="PlaysCard",n.PlayedCard="PlayedCard",n.PicksUpCard="PicksUpCard",n.PickedUpCard="PickedUpCard",n.NextPlayerTurn="NextPlayerTurn"}(N||(N={}));var D=function(){var n=Object(r.useContext)(Q).state,e=H(),t=function(){var e=n.playerTurn===n.player.position;return!n.player.hasExitedGame&&e};return o.a.createElement(o.a.Fragment,null,n.opponents.map((function(e,t){return o.a.createElement(S,{key:t,isHighlighted:n.playerTurn===e.position,tablePosition:e.position,cardsCount:e.cards.length},e.cards.map((function(n,e){return o.a.createElement(b,{key:e,color:O.Blue,value:w.Eight,isConcealed:!0})})))})),o.a.createElement(h,null,o.a.createElement(T,{onClick:function(){t()&&e.emit(N.PicksUpCard)}}),o.a.createElement(W,null)),o.a.createElement(S,{isHighlighted:n.playerTurn===n.player.position,tablePosition:0,cardsCount:n.player.cards.length},n.player.cards.map((function(n,a){return o.a.createElement(b,{key:a,color:n.color,value:n.value,isConcealed:n.isConcealed,onClick:function(){return n=a,void(t()&&e.emit(N.PlaysCard,n));var n}})}))))},J=t(22),M=t(5),L=t.n(M),q=t(134),K=function(){return Object(r.useReducer)((function(n,e){if(e.name===A.InitPlayer){var t=e.value,a=t.newPlayer,r=t.cardsInPile,o=t.opponents,i=t.playerTurnPosition;return Object(q.flow)(L()(["player"],a),L()(["opponents"],o),L()(["cardPile"],r),L()(["playerTurn"],i))(n)}if(e.name===A.AddOpponent){var l=e.value.opponent;return console.log("add opponent",l),L()(["opponents"],[].concat(Object(J.a)(n.opponents),[l]))(n)}if(e.name===A.UpdateOpponent){var c=e.value.opponent,s=n.opponents.map((function(n){return n.id===c.id?c:n}));return L()(["opponents"],s)(n)}if(e.name===A.RemoveOpponent){var p=e.value.id,u=n.opponents.filter((function(n){return n.id!==p}));return L()(["opponents"],Object(J.a)(u))(n)}if(e.name===A.PlayerPlaysCard){var d=e.value.newCards;return L()(["player","cards"],d)(n)}if(e.name===A.AddCardToPile){var f=e.value.card,m=Object(z.a)({},n);return m.cardPile.length>20&&m.cardPile.shift(),L()(["cardPile"],[].concat(Object(J.a)(n.cardPile),[f]))(m)}if(e.name===A.SetPlayerTurn){var x=e.value.position;return L()(["playerTurn"],x)(n)}if(e.name===A.PlayerPickedUpCard){var g=e.value.card;return L()(["player","cards"],[].concat(Object(J.a)(n.player.cards),[g]))(n)}return e.name===A.PlayerWins&&alert("You did it! You are the champ!"),e.name===A.OpponentWins&&alert("Darnit! Your opponnent just won. What a bummer!"),e.name,A.GameRestarsInSeconds,n}),{player:{id:"Player",cards:[],hasExitedGame:!1,position:0},opponents:[],cardPile:[],playerTurn:-1,isReversePlayDirection:!1})};t.d(e,"GameStateContext",(function(){return Q}));var Q=o.a.createContext(null);l.a.render(o.a.createElement((function(){var n=K(),e=Object(a.a)(n,2),t=e[0],r=e[1];return o.a.createElement(Q.Provider,{value:{state:t,dispatch:r}},o.a.createElement(D,null))}),null),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.8c8d8bfe.chunk.js.map